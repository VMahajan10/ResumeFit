<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ResumeFit Sidebar</title>
  <link rel="stylesheet" href="sidebar.css">
</head>
<body>
  <div class="sidebar-container">
    <header class="sidebar-header">
      <h1>ResumeFit</h1>
      <button id="closeSidebarBtn" class="close-btn" title="Close sidebar" aria-label="Close sidebar">Ã—</button>
    </header>

    <main class="sidebar-content">
      <!-- Job Page Section -->
      <section class="section">
        <h2>Job Page</h2>
        <button id="useJobPageBtn" class="btn btn-primary">Use This Page as Job</button>
        <div id="jobInfo" class="job-info" style="display: none;">
          <div class="job-url" id="jobUrl"></div>
          <div class="job-preview" id="jobPreview"></div>
        </div>
      </section>

      <!-- Resume Section -->
      <section class="section">
        <h2>Resume</h2>
        <div class="file-upload-container">
          <label for="resumeFileInput" class="file-upload-label">
            <span class="file-upload-icon">ðŸ“„</span>
            <span id="uploadText">Upload Resume (PDF, DOCX, or TXT)</span>
            <input type="file" id="resumeFileInput" accept=".pdf,.docx,.doc,.txt" style="display: none;">
          </label>
          <div id="fileUploadStatus" class="file-upload-status" style="display: none;"></div>
        </div>
        <textarea id="resumeText" class="textarea" placeholder="Resume text will appear here after upload..." style="display: none;"></textarea>
        <button id="saveResumeBtn" class="btn btn-secondary" style="display: none;">Save Resume Text</button>
      </section>

      <!-- Run Analysis Section -->
      <section class="section">
        <button id="runAnalysisBtn" class="btn btn-primary btn-large">Run Analysis</button>
        <div id="analysisStatus" class="status-message" style="display: none;"></div>
      </section>

      <!-- Compatibility Score Section -->
      <section class="section" id="scoreSection" style="display: none;">
        <h2>Compatibility Score</h2>
        <div id="compatibilityScore" class="compatibility-score">-</div>
        <button id="viewDetailedAnalysisBtn" class="btn btn-primary" style="margin-top: 12px; width: 100%;">View Detailed Analysis</button>
      </section>

      <!-- Missing Keywords Section -->
      <section class="section" id="missingKeywordsSection" style="display: none;">
        <h2>Missing Keywords</h2>
        <div id="missingKeywords" class="keywords-list"></div>
      </section>

      <!-- Suggested Edits Section -->
      <section class="section" id="suggestedEditsSection" style="display: none;">
        <h2>Suggested Edits</h2>
        <div id="suggestedEdits" class="suggested-edits-list"></div>
      </section>

      <!-- Chat Section -->
      <section class="section">
        <h2>Chat</h2>
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input-container">
          <input type="text" id="chatInput" class="chat-input" placeholder="Type your message...">
          <button id="sendChatBtn" class="btn btn-primary">Send</button>
        </div>
      </section>

      <!-- Proposed Edits Section (shown when AI proposes changes) -->
      <section class="section" id="proposedEditsSection" style="display: none;">
        <h2>Proposed Edits</h2>
        <div id="proposedEditsList" class="proposed-edits-list"></div>
        <div class="proposed-edits-actions">
          <button id="applyChangesBtn" class="btn btn-primary">Apply These Changes</button>
          <button id="keepChattingBtn" class="btn btn-secondary">Keep Chatting</button>
        </div>
      </section>

      <!-- Current Draft Resume Section -->
      <section class="section">
        <h2>Current Draft Resume</h2>
        <div id="draftResume" class="draft-preview"></div>
      </section>
    </main>
  </div>
  <script type="module" src="sidebar.js"></script>
</body>
</html>

